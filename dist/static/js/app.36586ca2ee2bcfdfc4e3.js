webpackJsonp([1],{140:function(e,t){},141:function(e,t){},142:function(e,t){},143:function(e,t){},229:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZlcnNpb249IjEuMSIgIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgPHBhdGggZmlsbD0iIzAwMDAwMCIgZD0iTTcuNzEsMy41TDEuMTUsMTVMNC41OCwyMUwxMS4xMyw5LjVNOS43MywxNUw2LjMsMjFIMTkuNDJMMjIuODUsMTVNMjIuMjgsMTRMMTUuNDIsMkg4LjU4TDguNTcsMkwxNS40MywxNEgyMi4yOFoiIC8+Cjwvc3ZnPg=="},230:function(e,t,n){var i=n(27)(n(97),n(235),null,null);e.exports=i.exports},231:function(e,t,n){n(141);var i=n(27)(n(98),n(232),null,null);e.exports=i.exports},232:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"main item"},[n("md-toolbar",{staticClass:"md-transparent row"},[n("div",{staticClass:"md-toolbar-container"},[n("router-link",{staticClass:"md-icon-button",attrs:{to:{name:"bills"}}},[n("md-icon",[e._v("arrow_back")])],1)],1)]),e._v(" "),n("header",{staticClass:"row",class:e.activeClass},[n("div",{staticClass:"header-content"},[n("span",[e._v(e._s(e._f("currency")(e.item.value)))])]),e._v(" "),n("div",{staticClass:"header-title"},[n("div",{staticClass:"header-title-inner"},[e._v("\n        "+e._s(e.type)+"\n      ")])])]),e._v(" "),n("md-layout",[n("md-layout",{attrs:{"md-column":"","md-flex-medium":"100","md-flex-large":"60","md-flex-offset-medium":"0","md-flex-offset-large":"20","md-align-large":"center"}},[n("form",{attrs:{novalidate:""},on:{submit:function(t){t.stopPropagation(),t.preventDefault(),e.submit(t)}}},[n("md-input-container",[n("md-icon",[e._v("today")]),e._v(" "),n("label",[e._v("Data")]),e._v(" "),n("md-input",{model:{value:e.item.date,callback:function(t){e.item.date=t},expression:"item.date"}})],1),e._v(" "),n("md-input-container",[n("md-icon",[e._v("label_outline")]),e._v(" "),n("label",[e._v("Descrição")]),e._v(" "),n("md-input",{model:{value:e.item.description,callback:function(t){e.item.description=t},expression:"item.description"}})],1),e._v(" "),n("md-input-container",[n("md-icon",[e._v("account_balance_wallet")]),e._v(" "),n("label",[e._v("Conta")]),e._v(" "),n("md-input",{model:{value:e.item.resource.name,callback:function(t){e.item.resource.name=t},expression:"item.resource.name"}})],1),e._v(" "),n("md-input-container",[n("md-icon",[e._v("info_outline")]),e._v(" "),n("label",[e._v("Observação")]),e._v(" "),n("md-input",{model:{value:e.item.note,callback:function(t){e.item.note=t},expression:"item.note"}})],1),e._v(" "),n("md-button",{staticClass:"md-fab md-raised md-primary md-fab-bottom-right fixed-button-right",nativeOn:{click:function(t){e.save(t)}}},[n("md-icon",[e._v("done")])],1)],1)])],1)],1)},staticRenderFns:[]}},233:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"main bills"},[n("md-toolbar",{staticClass:"row",class:e.activeClass},[n("md-button",{staticClass:"md-icon-button"},[n("md-icon",[e._v("menu")])],1),e._v(" "),n("span",{staticStyle:{flex:"1"}}),e._v(" "),n("md-button",{staticClass:"md-icon-button"},[n("md-icon",[e._v("filter_list")])],1),e._v(" "),n("md-button",{staticClass:"md-icon-button"},[n("md-icon",[e._v("search")])],1),e._v(" "),n("div",{staticClass:"md-toolbar-container"},[n("header",{staticStyle:{flex:"1"}},[n("div",{staticClass:"header-content"},[n("span",[e._v(e._s(e._f("currency")(e.total)))])]),e._v(" "),n("div",{staticClass:"header-title"},[n("div",{staticClass:"header-title-inner"},[e._v("\n            saldo geral\n          ")])])])])],1),e._v(" "),n("md-tabs",{attrs:{"md-fixed":""},on:{change:e.changeFilter}},[n("md-tab",{staticClass:"md-tab-zero-padding-medium",attrs:{id:"tudo","md-label":"Tudo"}},[n("md-layout",[n("md-layout",{attrs:{"md-column":"","md-flex-medium":"100","md-flex-large":"60","md-flex-offset-medium":"0","md-flex-offset-large":"20","md-align-large":"center"}},[n("md-table",[n("md-table-body",e._l(e.items,function(t){return n("md-table-row",{key:t._id,attrs:{flex:"",layout:"row"}},[n("md-table-cell",{attrs:{flex:"60"}},[n("span",{staticClass:"float-date"},[e._v(e._s(e._f("date")(t.date)))]),e._v("\n                  "+e._s(t.description)+"\n                ")]),e._v(" "),n("md-table-cell",{attrs:{flex:"30"}},[e._v("\n                  "+e._s(t.value)+"\n                ")]),e._v(" "),n("md-table-cell",{attrs:{flex:"10"}},[n("router-link",{staticClass:"md-icon-button",attrs:{to:{name:"item",params:{id:t._id}}}},[n("md-icon",[e._v("more_vert")])],1)],1)],1)}))],1)],1)],1)],1),e._v(" "),n("md-tab",{staticClass:"md-tab-zero-padding-medium",attrs:{id:"despesas","md-label":"Despesas"}},[n("md-layout",{attrs:{"md-row":""}},[n("md-layout",{attrs:{"md-column":"","md-flex-medium":"100","md-flex-large":"60","md-flex-offset":"0","md-flex-offset-medium":"0","md-flex-offset-large":"20","md-align-large":"center"}},[n("md-table",[n("md-table-body",e._l(e.negativeItems,function(t){return n("md-table-row",{key:t._id,attrs:{flex:"",layout:"row"}},[n("md-table-cell",[n("span",{staticClass:"float-date"},[e._v(e._s(e._f("date")(t.date)))]),e._v("\n                  "+e._s(t.description)+"\n                ")]),e._v(" "),n("md-table-cell",{attrs:{flex:"30"}},[e._v("\n                  "+e._s(t.value)+"\n                ")]),e._v(" "),n("md-table-cell",{attrs:{flex:"10"}},[n("router-link",{staticClass:"md-icon-button",attrs:{to:{name:"item",params:{id:t._id}}}},[n("md-icon",[e._v("more_vert")])],1)],1)],1)}))],1)],1)],1)],1),e._v(" "),n("md-tab",{staticClass:"md-tab-zero-padding-medium",attrs:{id:"receitas","md-label":"Receitas"}},[n("md-layout",[n("md-layout",{attrs:{"md-column":"","md-flex-medium":"100","md-flex-large":"60","md-flex-offset-medium":"0","md-flex-offset-large":"20","md-align-large":"center"}},[n("md-table",[n("md-table-body",e._l(e.positiveItems,function(t){return n("md-table-row",{key:t._id,attrs:{flex:"",layout:"row"}},[n("md-table-cell",{attrs:{flex:"60"}},[n("span",{staticClass:"float-date"},[e._v(e._s(e._f("date")(t.date)))]),e._v("\n                  "+e._s(t.description)+"\n                ")]),e._v(" "),n("md-table-cell",{attrs:{flex:"30"}},[e._v("\n                  "+e._s(t.value)+"\n                ")]),e._v(" "),n("md-table-cell",{attrs:{flex:"10"}},[n("router-link",{staticClass:"md-icon-button",attrs:{to:{name:"item",params:{id:t._id}}}},[n("md-icon",[e._v("more_vert")])],1)],1)],1)}))],1)],1)],1)],1)],1),e._v(" "),n("div",{staticClass:"fixed-button-right"},[n("md-speed-dial",{staticClass:"md-fab-bottom-right",attrs:{"md-mode":"fling","md-direction":"top"}},[n("md-button",{staticClass:"md-fab",attrs:{"md-fab-trigger":""}},[n("md-icon",{attrs:{"md-icon-morph":""}},[e._v("close")]),e._v(" "),n("md-icon",[e._v("add")])],1),e._v(" "),n("md-button",{staticClass:"md-fab md-mini md-clean"},[n("md-icon",[e._v("email")])],1),e._v(" "),n("md-button",{staticClass:"md-fab md-mini md-clean"},[n("md-icon",[e._v("content_copy")])],1)],1)],1)],1)},staticRenderFns:[]}},234:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"col-md-4 offset-md-4",attrs:{id:"app"}},[n("md-dialog",{ref:"login"},[n("md-dialog-title",[e._v("Login")]),e._v(" "),n("md-dialog-content",[n("p",[e._v("Please log in with your Google Drive account")])]),e._v(" "),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",nativeOn:{click:function(t){e.handleAuthClick(t)}}},[e._v("Login")])],1)],1),e._v(" "),e.loading?n("div",{staticClass:"loading"},[n("md-spinner",{attrs:{"md-size":60,"md-indeterminate":""}})],1):e._e(),e._v(" "),n("transition",{attrs:{name:"slide"}},[n("bills-view")],1),e._v(" "),n("create-new-file-dialog",{ref:"create_new_file"})],1)},staticRenderFns:[]}},235:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("md-dialog",{ref:"create_new_file"},[n("md-dialog-title",[e._v("Create new file")]),e._v(" "),n("md-dialog-content",[n("md-input-container",[n("label",[e._v("File name")]),e._v(" "),n("md-input",{attrs:{value:e.filename,id:"create-filename-input"}})],1)],1),e._v(" "),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",attrs:{id:"create-new-file-button"},nativeOn:{click:function(t){e.createNew()}}},[e._v("Create")]),e._v(" "),n("md-button",{attrs:{id:"open-from-gdrive-button"},nativeOn:{click:function(t){e.openFromGDrive()}}},[e._v("open from Google Drive "),n("img",{attrs:{src:e.gdriveSvg}})])],1)],1)},staticRenderFns:[]}},28:function(e,t,n){"use strict";var i=n(99),a=n.n(i),o=n(30),r=n.n(o),s=n(48),l=n.n(s),c=n(49),d=n.n(c),u=n(88),m=function(){function e(){l()(this,e),this.APPLICATION_ID="233592491629",this.CLIENT_ID="233592491629-bmrpu85unjgi3612c08vnu0n8832shde.apps.googleusercontent.com",this.SCOPES=["email","profile","https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/drive.install"],this.DEFAULT_FIELDS="capabilities(canCopy,canEdit),createdTime,fileExtension,id,mimeType,modifiedTime,name,shared,size,version"}return d()(e,[{key:"loadDriveApis",value:function(){return new r.a(function(e,t){!function t(){console.info("loadDriveApi..."),gapi&&gapi.client?r.a.all([gapi.client.load("drive","v3"),gapi.load("picker"),gapi.load("drive-share"),gapi.load("drive-realtime")]).then(function(){console.info("gapi.client.load finished!"),e()}):(setTimeout(function(){return t()},100),console.info("wait for it..."))}()})}},{key:"authorize",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return console.info("authorize"),new r.a(function(i,a){gapi.auth.authorize(e.buildAuthRequest(t,n),function(e){console.info("RESULT!!!!!!!!"),e&&!e.error?(console.info("resolved!"),i()):(console.info("rejected!"),a("Sorry, you are not allowed to open the file..."))})})}},{key:"buildAuthRequest",value:function(e,t){var n={client_id:this.CLIENT_ID,scope:this.SCOPES.join(" "),immediate:e};return t&&(n.login_hint=t,n.authuser=-1),n}},{key:"saveFile",value:function(e,t,n){var i,o;e.metadata.id?(i="/upload/drive/v3/files/"+encodeURIComponent(e.metadata.id),o="PATCH"):(i="/upload/drive/v3/files",o="POST");var r={mimeType:n||e.metadata.mimeType,name:t||e.metadata.name},s=(new u.a).append("application/json",a()(r)).append(e.metadata.mimeType,e.content||"").finish();return gapi.client.request({path:i,method:o,params:{uploadType:"multipart",fields:this.DEFAULT_FIELDS},headers:{"Content-Type":s.type},body:s.body})}},{key:"combineAndStoreResults",value:function(e,t){return{metadata:e,content:t}}},{key:"loadFile",value:function(e){var t=this;return new r.a(function(n,i){var a=gapi.client.drive.files.get({fileId:e,fields:t.DEFAULT_FIELDS}),o=gapi.client.drive.files.get({fileId:e,alt:"media"});n(r.a.all([a,o]))}).then(function(e){return{metadata:e[0].result,content:e[1].body}})}},{key:"loadRtDoc",value:function(e,t,n,i,a){var o=this,s=this;return new r.a(function(r,l){gapi.drive.realtime.load(e.metadata.id,function(e){console.log("loaded realtime doc",e),s.contentText=e.getModel().getRoot().get("content"),s.contentText.addEventListener(gapi.drive.realtime.EventType.TEXT_INSERTED,t),s.contentText.addEventListener(gapi.drive.realtime.EventType.TEXT_DELETED,t),s.filenameText=e.getModel().getRoot().get("filename"),s.filenameText.addEventListener(gapi.drive.realtime.EventType.TEXT_INSERTED,n),s.filenameText.addEventListener(gapi.drive.realtime.EventType.TEXT_DELETED,n),e.addEventListener(gapi.drive.realtime.EventType.COLLABORATOR_JOINED,i),e.addEventListener(gapi.drive.realtime.EventType.COLLABORATOR_LEFT,i),i({target:e,type:"init_collaborators"}),s.cursorsMap=e.getModel().getRoot().get("cursors"),s.cursorsMap.addEventListener(gapi.drive.realtime.EventType.VALUE_CHANGED,a),r(e.getModel())},function(t){console.log("initializing model",t);var n=t.createString(e.content);t.getRoot().set("content",n);var i=t.createString(e.content);t.getRoot().set("filename",i),s.cursorsMap=t.createMap(),t.getRoot().set("cursors",s.cursorsMap)},function(r){console.log("failed realtime load",r),r.type===window.gapi.drive.realtime.ErrorType.TOKEN_REFRESH_REQUIRED?o.authorize(!0).then(function(){o.loadRtDoc(e,t,n,i,a)}).catch(function(){l("Could not authorize")}):r.type===window.gapi.drive.realtime.ErrorType.CLIENT_ERROR?l("An Error happened: "+r.message):r.type===window.gapi.drive.realtime.ErrorType.NOT_FOUND?l("The file does not exist or you do not have permissions to access it."):r.type===window.gapi.drive.realtime.ErrorType.FORBIDDEN&&(l("You do not have access to this file. Try having the owner share it with you from Google Drive."),window.location.href="/")})})}},{key:"showPicker",value:function(){var e=this;return new r.a(function(t,i){var a=new google.picker.DocsView(google.picker.ViewId.DOCS);a.setMimeTypes(n.i({NODE_ENV:"production"}).DEFAULT_MIMETYPE),a.setSelectFolderEnabled(!0),a.setIncludeFolders(!0),(new google.picker.PickerBuilder).setAppId(e.APPLICATION_ID).setOAuthToken(gapi.auth.getToken().access_token).addView(a).setCallback(function(e){if("picked"===e.action){var n=e.docs[0].id;t(n)}else"cancel"===e.action&&i("cancel")}).build().setVisible(!0)})}},{key:"showSharing",value:function(e){var t=new gapi.drive.share.ShareClient(this.APPLICATION_ID);t.setOAuthToken(gapi.auth.getToken().access_token),t.setItemIds([e]),t.showSettingsDialog()}}]),e}();t.a=new m},29:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"f",function(){return o}),n.d(t,"e",function(){return r}),n.d(t,"h",function(){return s}),n.d(t,"i",function(){return l}),n.d(t,"j",function(){return c}),n.d(t,"k",function(){return d}),n.d(t,"l",function(){return u}),n.d(t,"a",function(){return m}),n.d(t,"b",function(){return f});var i="NEW_FILE",a="FILE_SAVED",o="FILE_SAVING",r="FILE_NOT_SAVED",s="EDIT_CONTENT",l="INSERT_CONTENT",c="DELETE_CONTENT",d="RENAME_FILE",u="LOAD_FILE",m="SET_COLLABORATORS",f="SET_CURSORS"},46:function(e,t,n){"use strict";var i=n(90);n.d(t,"a",function(){return i.a})},84:function(e,t,n){n(142);var i=n(27)(n(96),n(233),null,null);e.exports=i.exports},85:function(e,t,n){"use strict";var i=n(13),a=n(237),o=n(84),r=n.n(o),s=n(231),l=n.n(s),c=n(236),d=n.n(c),u=n(140);n.n(u);i.default.use(a.a),i.default.use(d.a),i.default.filter("currency",function(e){return"R$ "+e.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}),i.default.filter("date",function(e){var t=new Date(e.replace(/-/g,"/").replace(/T.+/,""));return t.getDate()+"/"+(t.getMonth()+1)}),t.a=new a.a({routes:[{path:"/",name:"bills",component:r.a},{path:"/item/:id",name:"item",component:l.a}]})},86:function(e,t,n){n(143);var i=n(27)(n(95),n(234),null,null);e.exports=i.exports},87:function(e,t,n){"use strict";function i(){return r}function a(){return JSON.parse(localStorage.getItem("items"))}function o(e){return a().find(function(t){return t._id===e})}t.b=i,t.a=o;var r={_id:0,description:"",note:"",value:0,currency:"BRL",resource:"carteira",date:"",due:"",tags:[]}},88:function(e,t,n){"use strict";var i=n(48),a=n.n(i),o=n(49),r=n.n(o),s=function(){function e(){a()(this,e),this.boundary=Math.random().toString(36).slice(2),this.mimeType='multipart/mixed; boundary="'+this.boundary+'"',this.parts=[],this.body=null}return r()(e,[{key:"append",value:function(e,t){if(null!==this.body)throw new Error("Builder has already been finalized.");return this.parts.push("\r\n--",this.boundary,"\r\n","Content-Type: ",e,"\r\n\r\n",t),this}},{key:"finish",value:function(){if(0===this.parts.length)throw new Error("No parts have been added.");return null===this.body&&(this.parts.push("\r\n--",this.boundary,"--"),this.body=this.parts.join("")),{type:this.mimeType,body:this.body}}}]),e}();t.a=s},89:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),a=n(86),o=n.n(a),r=n(85);i.default.config.productionTip=!1,new i.default({el:"#app",router:r.a,template:"<App/>",components:{App:o.a}})},90:function(e,t,n){"use strict";var i=n(30),a=n.n(i),o=n(28),r=n(92),s=n(76),l=n.n(s),c=n(217),d=n.n(c);n.d(t,"a",function(){return u});var u={model:null,createNewFile:function(e){var t=this;return new a.a(function(n,i){r.a.dispatch("createNewFile",e).then(function(e){o.a.loadRtDoc(e,t.contentEventHandler,t.filenameEventHandler,t.collaboratorEventHandler,t.cursorsMapEventHandler.bind(t)).then(function(){n(e)}).catch(function(){i("rt file not loaded")})}).catch(function(){return i("not loaded")})})},openFromGDrive:function(){var e=this;return new a.a(function(t,n){o.a.showPicker().then(function(i){i!==l()(r.a,"state.file.metadata.id")&&e.loadFromGDrive(i).then(function(){return t()}).then(function(e){return n(e)})}).catch(function(){n("not picked")})})},loadFromGDrive:function(e){var t=this;return new a.a(function(n,i){o.a.loadFile(e).then(function(e){return r.a.dispatch("loadFile",e),e}).then(function(e){o.a.loadRtDoc(e,t.contentEventHandler,t.filenameEventHandler,t.collaboratorEventHandler,t.cursorsMapEventHandler.bind(t)).then(function(){r.a.dispatch("updateContent",o.a.contentText.getText()),n(e)}).catch(function(e){i(e)})}).catch(function(e){console.error(e),i(e.result.error.message)})})},contentEventHandler:function(e){console.log("contentEventHandler"),r.a.dispatch("updateContent",o.a.contentText.getText())},filenameEventHandler:function(e){console.log("filenameEventHandler: "+o.a.filenameText.getText()),r.a.dispatch("updateFilename",o.a.filenameText.getText())},collaboratorEventHandler:function(e){console.log("---------------- collaboratorEventHandler: "+(e?e.type:"none")),console.log(e.target.getCollaborators().length+"COLLABORATORS"),e.target.getCollaborators().forEach(function(e){console.log("User ID:"+e.userId),console.log("Session ID:"+e.sessionId),console.log("Name:"+e.displayName),console.log("Color:"+e.color),console.log("IS_ME: "+e.isMe)}),r.a.dispatch("setCollaborators",e.target.getCollaborators())},moveCursor:function(e){this.getMyRegisteredReference(e).index=e},cursorsMapEventHandler:function(e){r.a.dispatch("setCursors",this.getCursors())},getCursors:function(){for(var e=this.garbageCollectCursors(),t=e.keys(),n={},i=0;i<t.length;i++)n[t[i]]=e.get(t[i]).index;return n},garbageCollectCursors:function(){for(var e=o.a.cursorsMap,t=e.keys(),n=0;n<t.length;n++)this.getCollaborator(t[n])?(e.get(t[n]).removeAllEventListeners(),e.get(t[n]).addEventListener(gapi.drive.realtime.EventType.REFERENCE_SHIFTED,this.onReferenceShifted.bind(this))):e.delete(t[n]);return e},getCollaborator:function(e){var t=l()(r.a,"state.collaborators.users");return t?d()(t,{sessionId:e}):null},getMyCollaborator:function(){var e=l()(r.a,"state.collaborators.users");return e?d()(e,{isMe:!0}):null},getMyRegisteredReference:function(e){var t=o.a.cursorsMap;if(!t)return null;var n=t.get(this.getMyCollaborator().sessionId);if(n)return n;var i=o.a.contentText.registerReference(e,!0);return i.addEventListener(gapi.drive.realtime.EventType.REFERENCE_SHIFTED,this.onReferenceShifted.bind(this)),o.a.cursorsMap.set(this.getMyCollaborator().sessionId,i),i},onReferenceShifted:function(){r.a.dispatch("setCursors",this.getCursors())},share:function(){return o.a.showSharing(l()(r.a,"state.file.metadata.id"))}}},91:function(e,t,n){"use strict";function i(e){var t=u.a.parse(window.location.search);t.file=e.id,window.history.pushState({},e.name,(window.location.pathname||"")+u.a.stringify(t,!0))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(30),o=n.n(a),r=n(28),s=n(29),l=n(82),c=n.n(l),d=n(83),u=n.n(d);n.d(t,"createNewFile",function(){return m}),n.d(t,"saveFile",function(){return f}),n.d(t,"editContent",function(){return p}),n.d(t,"updateContent",function(){return h}),n.d(t,"renameFile",function(){return g}),n.d(t,"updateFilename",function(){return _}),n.d(t,"loadFile",function(){return b}),n.d(t,"setCollaborators",function(){return E}),n.d(t,"setCursors",function(){return y});var m=function(e,t){var n=e.commit,a=e.state;return console.log("Creating new file"),n(s.c,t),new o.a(function(e,o){r.a.saveFile(a.file,t).then(function(e){return n(s.d,e.result)},function(e){return n(s.e)}).then(function(){i(a.file.metadata)}).then(function(){e(a.file)})})},f=function(e){var t=e.commit,n=e.state;return console.log("Saving new file"),t(s.f),new o.a(function(e,i){r.a.saveFile(n.file).then(function(n){t(s.d,n.result),e()},function(e){t(s.e),i(e)})})},v=c.a.debounce(f,2e3),p=function(e,t){var n=e.commit,i=e.state;r.a.contentText.setText(t),v({commit:n,state:i}),n(s.FILE_DIRTY)},h=function(e,t){var n=e.commit;e.state;n(s.h,t)},g=function(e,t){var n=e.commit,i=e.state;console.log("renaming file"),r.a.filenameText.setText(t),v({commit:n,state:i}),n(s.FILE_DIRTY)},_=function(e,t){var n=e.commit;e.state;n(s.k,t)},b=function(e,t){var n=e.commit,a=e.state;n(s.l,t),i(a.file.metadata)},E=function(e,t){var n=e.commit;e.state;n(s.a,t)},y=function(e,t){var n=e.commit;e.state;n(s.b,t)}},92:function(e,t,n){"use strict";var i=n(13),a=n(239),o=n(94),r=n(93),s=n(91);i.default.use(a.a),console.log("Using Vuex");t.a=new a.a.Store({actions:s,modules:{file:o.a,collaborators:r.a},strict:!1})},93:function(e,t,n){"use strict";var i,a=n(50),o=n.n(a),r=n(101),s=n.n(r),l=n(29),c={users:[]},d=(i={},o()(i,l.a,function(e,t){e.users=t}),o()(i,l.b,function(e,t){e.users=e.users.reduce(function(e,n){return t[n.sessionId]&&(n=s()({},n,{cursor:t[n.sessionId]})),e.push(n),e},[])}),i);t.a={state:c,mutations:d}},94:function(e,t,n){"use strict";var i,a=n(50),o=n.n(a),r=n(82),s=n.n(r),l=n(29),c={INITIAL:"INTIAL",SAVING:"SAVING",SAVED:"SAVED",NOT_SAVED:"NOT_SAVED",DIRTY:"DIRTY"},d={metadata:{name:"New document",id:"no-id"},content:"",status:c.INITIAL},u=(i={},o()(i,l.c,function(e,t){e.metadata={id:null,mimeType:n.i({NODE_ENV:"production"}).DEFAULT_MIMETYPE,name:t},e.content=""}),o()(i,l.d,function(e,t){s.a.assign(e.metadata,t),e.status=c.SAVED}),o()(i,l.e,function(e){e.status=c.NOT_SAVED}),o()(i,l.f,function(e){e.status=c.SAVING}),o()(i,l.FILE_DIRTY,function(e){e.status=c.DIRTY}),o()(i,l.h,function(e,t){e.content=t}),o()(i,l.i,function(e,t){var n=t.index,i=t.text,a=e.content;e.content=a.slice(0,n)+i+a.slice(n)}),o()(i,l.j,function(e,t){var n=t.index,i=t.text,a=e.content;e.content=a.slice(0,n)+a.slice(n+i.length)}),o()(i,l.k,function(e,t){e.metadata.name=t}),o()(i,l.l,function(e,t){e.metadata=t.metadata,e.content=t.content,e.status=e.status=c.SAVED}),i);t.a={state:d,mutations:u}},95:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(83),a=n.n(i),o=n(28),r=n(230),s=n.n(r),l=n(84),c=n.n(l),d=n(46);t.default={name:"app",components:{Bills:c.a,"create-new-file-dialog":s.a},data:function(){return{items:[],loading:!0,error:null,receitas:!0,despesas:!0,user:null,file:null}},mounted:function(){var e=this,t=a.a.parse(window.location.search);this.user=t.user,this.file=t.file,o.a.loadDriveApis().then(function(){console.log("starting authorize"),o.a.authorize(!0,e.user).then(function(){return e.loadThisFile()}).catch(function(t){console.log("error inload or authorize"),e.$refs.login.open()})})},methods:{handleAuthClick:function(){var e=this;this.$refs.login.close(),o.a.authorize(!1,this.user).then(function(){e.loadThisFile()}).catch(function(e){console.log(e)})},loadThisFile:function(){var e=this;if(console.log("load file"),this.file)return d.a.loadFromGDrive(this.file).catch(function(t){e.errorMessage=t});this.openCreateNewFile()},openCreateNewFile:function(){this.$refs.create_new_file.openDialog()},tryAgain:function(){window.location.reload()}}}},96:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"bills-view",props:{items:{type:String,default:function(){return""}}},data:function(){return{loading:!1,error:null,receitas:!0,despesas:!0,user:"110208035347780990937",file:"0B8myU7zyawFnX2ZKUkxzejZ5c0k"}},mounted:function(){},created:function(){console.log(this.items),this.byJovane()},methods:{fetchData:function(){this.error=this.items=null,console.log(this.items)},byJovane:function(){console.log("desenvolvido por @jovanepires")},changeFilter:function(e){console.log(this.items),0===e&&(this.receitas=!0,this.despesas=!0),1===e&&(this.receitas=!1,this.despesas=!0),2===e&&(this.receitas=!0,this.despesas=!1)}},computed:{allItems:function(){return this.items||{}},negativeItems:function(){return this.items?this.items.filter(function(e){return e.value<0}):{}},positiveItems:function(){return this.items?this.items.filter(function(e){return e.value>0}):{}},total:function(){if(!this.items)return 0;var e=this;return this.items.filter(function(t){return!(!e.receitas||!e.despesas)||(e.receitas?t.value>0:!!e.despesas&&t.value<0)}).reduce(function(e,t){return e+t.value},0)},activeClass:function(){return this.total>=0?"green":"red"}}}},97:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(229),a=n.n(i),o=n(46);t.default={data:function(){return{filename:"New document",gdriveSvg:a.a}},methods:{openDialog:function(){this.filename="New document",this.$refs.create_new_file.open()},createNew:function(){this.$refs.create_new_file.close(),o.a.createNewFile(this.$el.querySelector("#create-filename-input").value)},openFromGDrive:function(){var e=this;o.a.openFromGDrive().then(function(){e.$refs.create_new_file.close()}).catch(function(){console.info("Canceled gapi picker.")})},updateFilename:function(e){this.filename=e.value}}}},98:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(87);t.default={name:"item",data:function(){return{_id:null,item:null}},created:function(){this._id=parseInt(this.$route.params.id,10),this.fetchData(),this.byJovane()},methods:{fetchData:function(){this.error=this.item=null,this.item=this._id?n.i(i.a)(this._id):n.i(i.b)()},byJovane:function(){console.log("desenvolvido por @jovanepires")},save:function(){alert("ok")}},computed:{activeClass:function(){return this.item.value>=0?"positive":"negative"},type:function(){return this.item.value>=0?"receita":"despesa"}}}}},[89]);
//# sourceMappingURL=app.36586ca2ee2bcfdfc4e3.js.map