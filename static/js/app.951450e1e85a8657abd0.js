webpackJsonp([1],{35:function(e,t,i){"use strict";var a=i(12),n=i(93),o=i(87),r=i.n(o),s=i(88),l=i.n(s),c=i(92),d=i.n(c),u=i(83);i.n(u);a.default.use(n.a),a.default.use(d.a),a.default.filter("currency",function(e){return"R$ "+e.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}),a.default.filter("date",function(e){var t=new Date(e.replace(/-/g,"/").replace(/T.+/,""));return t.getDate()+"/"+(t.getMonth()+1)}),t.a=new n.a({routes:[{path:"/",name:"bills",component:r.a},{path:"/item/:id",name:"item",component:l.a}]})},36:function(e,t,i){i(86);var a=i(21)(i(41),i(91),null,null);e.exports=a.exports},37:function(e,t,i){"use strict";function a(e){return n.find(function(t){return t._id===e})}t.a=a;var n=[{_id:1,description:"SALARIO",note:"Salário",value:1e3,currency:"BRL",resource:{name:"Itau",namespace:"cc_itau"},date:"2017-02-25T00:00:00Z",due:"2017-02-25T00:00:00Z",tags:["salario"]},{_id:2,description:"ALUGUEL",note:"Aluguel",value:-600,currency:"BRL",resource:{name:"Itau",namespace:"cc_itau"},date:"2017-02-28T00:00:00Z",due:"2017-02-28T00:00:00Z",tags:["aluguel","casa","moradia","fixa"]},{_id:3,description:"SMARTFIT",note:"",value:-58.57,currency:"BRL",resource:"itau_cc",date:"2017-03-01T00:00:00Z",due:"2017-03-01T00:00:00Z",tags:["esporte","academia","musculação","fixa"]},{_id:4,description:"SMARTFIT",note:"",value:-89.9,currency:"BRL",resource:"itau_cc",date:"2017-03-01T00:00:00Z",due:"2017-03-01T00:00:00Z",tags:["esporte","academia","musculação","variável"]},{_id:5,description:"VIVO",note:"Telefone fixo",value:-161.88,currency:"BRL",resource:"itau_cc",date:"2017-03-01T00:00:00Z",due:"2017-03-01T00:00:00Z",tags:["casa","comunicação","telefonia","internet","fixa"]},{_id:6,description:"FARMACIA",note:"REMEDIO",value:-10.99,currency:"BRL",resource:"itau_cc",date:"2017-03-06T00:00:00Z",due:"2017-03-06T00:00:00Z",tags:["remédio","saúde"]},{_id:7,description:"RECARGA",note:"",value:-10,currency:"BRL",resource:"itau_cc",date:"2017-03-06T00:00:00Z",due:"2017-03-06T00:00:00Z",tags:["celular","felefone","pré-pago","recarga"]},{_id:8,description:"RECARGA",note:"",value:-10,currency:"BRL",resource:"itau_cc",date:"2017-03-06T00:00:00Z",due:"2017-03-06T00:00:00Z",tags:["celular","felefone","pré-pago","recarga"]},{_id:9,description:"CARTAO",note:"Mastercard",value:-1093.43,currency:"BRL",resource:"itau_cc",date:"2017-03-06T00:00:00Z",due:"2017-03-17T00:00:00Z",tags:["cartão","outros","variável"]},{_id:10,description:"GRANA",note:"Mastercard",value:1400,currency:"BRL",resource:"itau_cc",date:"2017-03-06T00:00:00Z",due:"2017-03-17T00:00:00Z",tags:["cartão","outros","variável"]}]},38:function(e,t,i){"use strict";var a=i(44),n=i.n(a),o=i(46),r=i.n(o),s=i(22),l=i.n(s),c=i(23),d=i.n(c),u=i(39),m=function(){function e(){l()(this,e),this.CLIENT_ID="233592491629-bmrpu85unjgi3612c08vnu0n8832shde.apps.googleusercontent.com",this.SCOPES=["email","profile","https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/drive.install"],this.DEFAULT_FIELDS="capabilities(canCopy,canEdit),createdTime,fileExtension,id,mimeType,modifiedTime,name,shared,size,version"}return d()(e,[{key:"loadDriveApis",value:function(){return new r.a(function(e,t){!function t(){console.info("loadDriveApi..."),gapi&&gapi.client?r.a.all([gapi.client.load("drive","v3"),gapi.load("picker"),gapi.load("drive-share"),gapi.load("drive-realtime")]).then(function(){console.info("gapi.client.load finished!"),e()}):(setTimeout(function(){return t()},100),console.info("wait for it..."))}()})}},{key:"authorize",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return console.info("authorize"),new r.a(function(a,n){gapi.auth.authorize(e.buildAuthRequest(t,i),function(e){console.info("RESULT!!!!!!!!"),e&&!e.error?(console.info("resolved!"),a()):(console.info("rejected!"),n("Sorry, you are not allowed to open the file..."))})})}},{key:"buildAuthRequest",value:function(e,t){var i={client_id:this.CLIENT_ID,scope:this.SCOPES.join(" "),immediate:e};return t&&(i.login_hint=t,i.authuser=-1),i}},{key:"saveFile",value:function(e,t){var i,a;e.metadata.id?(i="/upload/drive/v3/files/"+encodeURIComponent(e.metadata.id),a="PATCH"):(i="/upload/drive/v3/files",a="POST");var o={mimeType:e.metadata.mimeType,name:t||e.metadata.name},r=(new u.a).append("application/json",n()(o)).append(e.metadata.mimeType,e.content).finish();return gapi.client.request({path:i,method:a,params:{uploadType:"multipart",fields:this.DEFAULT_FIELDS},headers:{"Content-Type":r.type},body:r.body})}},{key:"combineAndStoreResults",value:function(e,t){return{metadata:e,content:t}}},{key:"loadFile",value:function(e){var t=this;return new r.a(function(i,a){var n=gapi.client.drive.files.get({fileId:e,fields:t.DEFAULT_FIELDS}),o=gapi.client.drive.files.get({fileId:e,alt:"media"});i(r.a.all([n,o]))}).then(function(e){return{metadata:e[0].result,content:e[1].body}})}},{key:"loadRtDoc",value:function(e,t,i,a,n){var o=this,s=this;return new r.a(function(r,l){gapi.drive.realtime.load(e.metadata.id,function(e){console.log("loaded realtime doc",e),s.contentText=e.getModel().getRoot().get("content"),s.contentText.addEventListener(gapi.drive.realtime.EventType.TEXT_INSERTED,t),s.contentText.addEventListener(gapi.drive.realtime.EventType.TEXT_DELETED,t),s.filenameText=e.getModel().getRoot().get("filename"),s.filenameText.addEventListener(gapi.drive.realtime.EventType.TEXT_INSERTED,i),s.filenameText.addEventListener(gapi.drive.realtime.EventType.TEXT_DELETED,i),e.addEventListener(gapi.drive.realtime.EventType.COLLABORATOR_JOINED,a),e.addEventListener(gapi.drive.realtime.EventType.COLLABORATOR_LEFT,a),a({target:e,type:"init_collaborators"}),s.cursorsMap=e.getModel().getRoot().get("cursors"),s.cursorsMap.addEventListener(gapi.drive.realtime.EventType.VALUE_CHANGED,n),r(e.getModel())},function(t){console.log("initializing model",t);var i=t.createString(e.content);t.getRoot().set("content",i);var a=t.createString(e.content);t.getRoot().set("filename",a),s.cursorsMap=t.createMap(),t.getRoot().set("cursors",s.cursorsMap)},function(r){console.log("failed realtime load",r),r.type===window.gapi.drive.realtime.ErrorType.TOKEN_REFRESH_REQUIRED?o.authorize(!0).then(function(){o.loadRtDoc(e,t,i,a,n)}).catch(function(){l("Could not authorize")}):r.type===window.gapi.drive.realtime.ErrorType.CLIENT_ERROR?l("An Error happened: "+r.message):r.type===window.gapi.drive.realtime.ErrorType.NOT_FOUND?l("The file does not exist or you do not have permissions to access it."):r.type===window.gapi.drive.realtime.ErrorType.FORBIDDEN&&(l("You do not have access to this file. Try having the owner share it with you from Google Drive."),window.location.href="/")})})}},{key:"showPicker",value:function(){return new r.a(function(e,t){var a=new google.picker.DocsView(google.picker.ViewId.DOCS);a.setMimeTypes(i.i({NODE_ENV:"production"}).DEFAULT_MIMETYPE),a.setSelectFolderEnabled(!0),a.setIncludeFolders(!0),(new google.picker.PickerBuilder).setAppId(i.i({NODE_ENV:"production"}).APPLICATION_ID).setOAuthToken(gapi.auth.getToken().access_token).addView(a).setCallback(function(i){if("picked"===i.action){var a=i.docs[0].id;e(a)}else"cancel"===i.action&&t("cancel")}).build().setVisible(!0)})}},{key:"showSharing",value:function(e){var t=new gapi.drive.share.ShareClient(i.i({NODE_ENV:"production"}).APPLICATION_ID);t.setOAuthToken(gapi.auth.getToken().access_token),t.setItemIds([e]),t.showSettingsDialog()}}]),e}();t.a=new m},39:function(e,t,i){"use strict";var a=i(22),n=i.n(a),o=i(23),r=i.n(o),s=function(){function e(){n()(this,e),this.boundary=Math.random().toString(36).slice(2),this.mimeType='multipart/mixed; boundary="'+this.boundary+'"',this.parts=[],this.body=null}return r()(e,[{key:"append",value:function(e,t){if(null!==this.body)throw new Error("Builder has already been finalized.");return this.parts.push("\r\n--",this.boundary,"\r\n","Content-Type: ",e,"\r\n\r\n",t),this}},{key:"finish",value:function(){if(0===this.parts.length)throw new Error("No parts have been added.");return null===this.body&&(this.parts.push("\r\n--",this.boundary,"--"),this.body=this.parts.join("")),{type:this.mimeType,body:this.body}}}]),e}();t.a=s},40:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(12),n=i(36),o=i.n(n),r=i(35);a.default.config.productionTip=!1,new a.default({el:"#app",router:r.a,template:"<App/>",components:{App:o.a}})},41:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},42:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(38);t.default={name:"bills",data:function(){return{items:[],loading:!1,error:null,receitas:!0,despesas:!0,user:"110208035347780990937",file:"0B8myU7zyawFnX2ZKUkxzejZ5c0k"}},mounted:function(){var e=this;a.a.loadDriveApis().then(function(){console.log("starting authorize"),a.a.authorize(!0,e.user).then(function(){return e.loadThisFile()}).catch(function(t){console.log("error inload or authorize"),e.$refs.login.open()})})},created:function(){this.byJovane(),this.fetchData()},methods:{handleAuthClick:function(){var e=this;this.$refs.login.close(),a.a.authorize(!1,this.user).then(function(){e.loadThisFile()}).catch(function(e){console.log(e)})},loadThisFile:function(){if(this.file){var e=this;console.log("load file"),a.a.loadFile(this.file).then(function(t){e.$nextTick(function(){e.items=JSON.parse(t.content)})})}},fetchData:function(){this.error=this.items=null,console.log(this.items)},byJovane:function(){console.log("desenvolvido por @jovanepires")},changeFilter:function(e){console.log(this.items),0===e&&(this.receitas=!0,this.despesas=!0),1===e&&(this.receitas=!1,this.despesas=!0),2===e&&(this.receitas=!0,this.despesas=!1)}},computed:{allItems:function(){return this.items||{}},negativeItems:function(){return this.items?this.items.filter(function(e){return e.value<0}):{}},positiveItems:function(){return this.items?this.items.filter(function(e){return e.value>0}):{}},total:function(){if(!this.items)return 0;var e=this;return this.items.filter(function(t){return!(!e.receitas||!e.despesas)||(e.receitas?t.value>0:!!e.despesas&&t.value<0)}).reduce(function(e,t){return e+t.value},0)},activeClass:function(){return this.total>=0?"green":"red"}}}},43:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(37);t.default={name:"item",data:function(){return{_id:1,item:null}},created:function(){this._id=parseInt(this.$route.params.id,10),this.fetchData(),this.byJovane()},methods:{fetchData:function(){this.error=this.item=null,this.item=i.i(a.a)(this._id)},byJovane:function(){console.log("desenvolvido por @jovanepires")},save:function(){alert("ok")}},computed:{activeClass:function(){return this.item.value>=0?"positive":"negative"},type:function(){return this.item.value>=0?"receita":"despesa"}}}},83:function(e,t){},84:function(e,t){},85:function(e,t){},86:function(e,t){},87:function(e,t,i){i(85);var a=i(21)(i(42),i(90),null,null);e.exports=a.exports},88:function(e,t,i){i(84);var a=i(21)(i(43),i(89),null,null);e.exports=a.exports},89:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"main item"},[i("md-toolbar",{staticClass:"md-transparent row"},[i("div",{staticClass:"md-toolbar-container"},[i("router-link",{staticClass:"md-icon-button",attrs:{to:"/"}},[i("md-icon",[e._v("arrow_back")])],1)],1)]),e._v(" "),i("header",{staticClass:"row",class:e.activeClass},[i("div",{staticClass:"header-content"},[i("span",[e._v(e._s(e._f("currency")(e.item.value)))])]),e._v(" "),i("div",{staticClass:"header-title"},[i("div",{staticClass:"header-title-inner"},[e._v("\n        "+e._s(e.type)+"\n      ")])])]),e._v(" "),i("div",{staticClass:"container"},[i("form",{attrs:{novalidate:""},on:{submit:function(t){t.stopPropagation(),t.preventDefault(),e.submit(t)}}},[i("md-input-container",[i("md-icon",[e._v("today")]),e._v(" "),i("label",[e._v("Data")]),e._v(" "),i("md-input",{model:{value:e.item.date,callback:function(t){e.item.date=t},expression:"item.date"}})],1),e._v(" "),i("md-input-container",[i("md-icon",[e._v("label_outline")]),e._v(" "),i("label",[e._v("Descrição")]),e._v(" "),i("md-input",{model:{value:e.item.description,callback:function(t){e.item.description=t},expression:"item.description"}})],1),e._v(" "),i("md-input-container",[i("md-icon",[e._v("account_balance_wallet")]),e._v(" "),i("label",[e._v("Conta")]),e._v(" "),i("md-input",{model:{value:e.item.resource.name,callback:function(t){e.item.resource.name=t},expression:"item.resource.name"}})],1),e._v(" "),i("md-input-container",[i("md-icon",[e._v("info_outline")]),e._v(" "),i("label",[e._v("Observação")]),e._v(" "),i("md-input",{model:{value:e.item.note,callback:function(t){e.item.note=t},expression:"item.note"}})],1),e._v(" "),i("md-button",{staticClass:"md-fab md-raised md-primary md-fab-bottom-right",nativeOn:{click:function(t){e.save(t)}}},[i("md-icon",[e._v("done")])],1)],1)])],1)},staticRenderFns:[]}},90:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"main bills"},[i("md-toolbar",{staticClass:"row",class:e.activeClass},[i("md-button",{staticClass:"md-icon-button"},[i("md-icon",[e._v("menu")])],1),e._v(" "),i("md-button",{staticClass:"md-icon-button"},[i("md-icon",[e._v("filter_list")])],1),e._v(" "),i("md-button",{staticClass:"md-icon-button"},[i("md-icon",[e._v("search")])],1),e._v(" "),i("div",{staticClass:"md-toolbar-container"},[i("header",{staticClass:"container"},[i("div",{staticClass:"header-content"},[i("span",[e._v(e._s(e._f("currency")(e.total)))])]),e._v(" "),i("div",{staticClass:"header-title"},[i("div",{staticClass:"header-title-inner"},[e._v("\n            saldo geral\n          ")])])])])],1),e._v(" "),i("md-tabs",{attrs:{"md-fixed":""},on:{change:e.changeFilter}},[i("md-tab",{attrs:{id:"tudo","md-label":"Tudo"}},[i("md-table",[i("md-table-body",e._l(e.items,function(t){return i("md-table-row",{key:t._id,attrs:{flex:"",layout:"row"}},[i("md-table-cell",{attrs:{flex:"60"}},[i("span",{staticClass:"float-date"},[e._v(e._s(e._f("date")(t.date)))]),e._v("\n              "+e._s(t.description)+"\n            ")]),e._v(" "),i("md-table-cell",{attrs:{flex:"30"}},[e._v("\n              "+e._s(t.value)+"\n            ")]),e._v(" "),i("md-table-cell",{attrs:{flex:"10"}},[i("router-link",{staticClass:"md-icon-button",attrs:{to:{name:"item",params:{id:t._id}}}},[i("md-icon",[e._v("more_vert")])],1)],1)],1)}))],1)],1),e._v(" "),i("md-tab",{attrs:{id:"despesas","md-label":"Despesas"}},[i("md-table",[i("md-table-body",e._l(e.negativeItems,function(t){return i("md-table-row",{key:t._id,attrs:{flex:"",layout:"row"}},[i("md-table-cell",[i("span",{staticClass:"float-date"},[e._v(e._s(e._f("date")(t.date)))]),e._v("\n              "+e._s(t.description)+"\n            ")]),e._v(" "),i("md-table-cell",{attrs:{flex:"30"}},[e._v("\n              "+e._s(t.value)+"\n            ")]),e._v(" "),i("md-table-cell",{attrs:{flex:"10"}},[i("router-link",{staticClass:"md-icon-button",attrs:{to:{name:"item",params:{id:t._id}}}},[i("md-icon",[e._v("more_vert")])],1)],1)],1)}))],1)],1),e._v(" "),i("md-tab",{attrs:{id:"receitas","md-label":"Receitas"}},[i("md-table",[i("md-table-body",e._l(e.positiveItems,function(t){return i("md-table-row",{key:t._id,attrs:{flex:"",layout:"row"}},[i("md-table-cell",{attrs:{flex:"60"}},[i("span",{staticClass:"float-date"},[e._v(e._s(e._f("date")(t.date)))]),e._v("\n              "+e._s(t.description)+"\n            ")]),e._v(" "),i("md-table-cell",{attrs:{flex:"30"}},[e._v("\n              "+e._s(t.value)+"\n            ")]),e._v(" "),i("md-table-cell",{attrs:{flex:"10"}},[i("router-link",{staticClass:"md-icon-button",attrs:{to:{name:"item",params:{id:t._id}}}},[i("md-icon",[e._v("more_vert")])],1)],1)],1)}))],1)],1)],1),e._v(" "),i("md-dialog",{ref:"login"},[i("md-dialog-title",[e._v("Login")]),e._v(" "),i("md-dialog-content",[i("p",[e._v("Please log in with your Google Drive account")])]),e._v(" "),i("md-dialog-actions",[i("md-button",{staticClass:"md-primary",nativeOn:{click:function(t){e.handleAuthClick(t)}}},[e._v("Login")])],1)],1),e._v(" "),i("div",{staticClass:"fixed-button-right"},[i("md-speed-dial",{staticClass:"md-fab-bottom-right",attrs:{"md-mode":"fling","md-direction":"top"}},[i("md-button",{staticClass:"md-fab",attrs:{"md-fab-trigger":""}},[i("md-icon",{attrs:{"md-icon-morph":""}},[e._v("close")]),e._v(" "),i("md-icon",[e._v("add")])],1),e._v(" "),i("md-button",{staticClass:"md-fab md-mini md-clean"},[i("md-icon",[e._v("email")])],1),e._v(" "),i("md-button",{staticClass:"md-fab md-mini md-clean"},[i("md-icon",[e._v("content_copy")])],1)],1)],1)],1)},staticRenderFns:[]}},91:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"col-md-4 offset-md-4",attrs:{id:"app"}},[i("router-view")],1)},staticRenderFns:[]}}},[40]);
//# sourceMappingURL=app.951450e1e85a8657abd0.js.map